<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Tooltip - TestCases</title>
	<link rel="stylesheet" type="text/css" href="http://chico.com:8080/latest/css">
	<link href="../libs/css/qunit.css" rel="stylesheet">
	<style>
		body{ height:1000px; }
	</style>
</head>
<body>

<!-- #body -->
	<h1>Chico-UI: Conditions testcases</h1>
	<hr>
<!-- #body -->
	<h1 id="qunit-header">QUnit Test Suite</h1>
	<h2 id="qunit-banner"></h2>
	<div id="qunit-testrunner-toolbar"></div>
	<h2 id="qunit-userAgent"></h2>
	<ol id="qunit-tests"></ol>
	<div id="qunit-fixture">test markup</div>

	<script src="../libs/js/jquery.js"></script>
	<script src="../libs/js/qunit.js"></script>
	<script src="http://chico.com:8080/latest/js"></script>
	<script src="functions.js"></script>

<!-- #script -->
	<script>
	
		var myCondition = ch.condition({
			name: "myCondition",
			patt: /^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/,
			message: "Yeah this is a message!"
		});

		/**
		 * 	Test Cases
		 */
		
		module("Condition object");
		
		test("Condition public properties", function () {

			expect(2);
	   		
			ok(myCondition.name == "myCondition", "Expected to find \"myCondition\" as value of name attribute");

			ok(typeof myCondition.message == "string", "Expected to find a \"message\" attribute");

		});

		test("Condition public methods", function () {

			expect(3);
			
			ok(ch.utils.hasOwn(myCondition, "test"), "Expected to find an \"test\" property");

			ok(ch.utils.hasOwn(myCondition, "enable"), "Expected to find an \"enable\" property");

			ok(ch.utils.hasOwn(myCondition, "disable"), "Expected to find an \"disable\" property");

		});

		test("Condition chain methods", function () {
			expect(1);
			ok(myCondition.disable().enable(), "Expected to work chain methods");
		});

		test("Condition test method", function () {
			expect(1);
			ok(myCondition.test("chico@mercadolibre.com"), "Expected to return true");
		});

		test("Condition disable method", function () {
			expect(1);

			myCondition.disable()

			ok(myCondition.test(), "Expected to return true");

		});

		test("Condition enable method", function () {
			expect(1);

			myCondition.enable();

			ok(!myCondition.test(), "Expected to return false");
		});

	</script>

</body>
</html>
